<!doctype html>

<html>

<head>
	<title>page title</title>
	<meta charset="utf-8">
	<meta name="viewport" content="initial-scale=1.0">
	<script lang="javascript">
		var btn;

		//로딩할 때 이름 있는 함수(세미콜론 없는)가 다른 것보다 우선적으로 선행적으로 로딩, 메모리에 우선 처리(static)
		//익명함수를 변수에 대입하는 것은 줄을 만나야 실행돼서 우선순위에서 window.addEventListener보다 밀림(객체 생성 후 변수 대입)

		var funcVar = function() {}; //함수 객체 생성 후 변수에 대입
		function func1() {} //실행 하자 마자 바로 함수 실행

		window.addEventListener('load', func);
		// window.onload=function(){
		//var funcVar=function(){
		function func() {
			// btn1=document.querySelector('body>div>div>button:nth-child(1)');
			// btn2=document.querySelector('body>div>div>button:nth-child(2)');
			// btn3=document.querySelector('body>div>div>button:nth-child(3)');
			btn = document.querySelectorAll('body>div>div>button');



			btn[0].onclick = function() {
				alert('버튼작동');
			}

			//프로퍼티 방식: 가장 최근에 붙인 이벤트만 작동한다.
			btn[0].onclick = function() {
				alert('최근: 버튼작동2');
			}

			var funcbtn = function() {
				alert('리스너를 통한 이벤트 등록');
			};

			//이벤트 리스너 (함수)
			// btn={addEventListener(): x}

			//변수.addEventLister('조건','함수실행');
			btn[1].addEventListener('click', funcbtn);
			btn[1].addEventListener('click', function() {
				alert('최근: 리스너를 통한 이벤트 등록');
			});
			//이벤트 리스너 방식: 둘 다 연속해서 작동한.

			btn[2].addEventListener('focus', function() {
				console.log('키보드를 통해 포커스에 들어옴');
			});
			btn[2].addEventListener('mouseover', function() {
				console.log('마우스가 들어옴');
			});

			//예전 익스플로에서 사용했던 attachEvent 방식(현재는 사용하지 않고 있음)
			/* btn3.attachEvent('mouseover',function(){

			 });*/

			btn[2].addEventListener('blur', function() {
				console.log('포커스에서 나감');
			});
			btn[2].addEventListener('mouseout', function() {
				console.log('마우스가 빠져나감');
			});

			btn[3].addEventListener('click', function() {
				btn[1].removeEventListener('click', funcbtn);
				btn[1].removeEventListener('click', function() {
					alert('최근: 리스너를 통한 이벤트 등록');
				});
			});
			// window.addEventListener('load',funcVar);

		}

	</script>

</head>

<body>
	<h1>이벤트 리스너</h1>
	<div>
		<div>
			<button>프로퍼티 방식</button>
			<button>이벤트 리스너 방식</button>
			<button>마우스 터치</button>
			<button>리스너 이벤트 해제</button>
		</div>

	</div>
</body>

</html>
